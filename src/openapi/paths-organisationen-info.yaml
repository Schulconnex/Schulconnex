get:
  tags:
    - Organisationen
  operationId: readOrganisationenInfo
  security:
    - oAuthForUser: []
  summary: Organisationen auflisten
  description: |
    Die Schnittstelle /organisationen-info ermöglicht die Auflistung von Organisationen durch Dienste.
    Der Zugriff erfordert die Client Credentials eines Dienstes.

    Dieser Schnittstellenendpunkt gibt die Organisationen zurück, die vom Dienst ausgelesen werden dürfen.

    Ein READ muss mit einer HTTP-GET Anfrage erfolgen.

    Die Antwort-Nutzdaten (Response Payload) beinhalten ein
    Array von JSON-Objekten vom Datentyp Organisation, sofern
    Einträge (ggf. passend zu den optionalen Filtern) existieren. Siehe auch Datenmodell [`Organisation`](../../../datenmodell-dienste/organisation).

    Die Schnittstelle /v1/organisationen-info ermöglicht das Verwenden von Filterparametern zur
    Präzisierung der Anfrage bei HTTP-GET. Werden mehrere Filter angegeben, so müssen sie als mit
    „und“ verknüpft angesehen werden. Entsprechen keine Werte den angegebenen Filtern, so wird als Resultat
    eine leere Liste geliefert. Die mehrfache Nutzung des gleichen Filters in einer Anfrage darf
    nicht erfolgen.

    Filter | Typ | Parameter | Beschreibung
    --- | --- | --- | ---
    `vollstaendig` | String | `beziehungen` | Möglichkeit, die Beziehungen, welche eine Organisation hat, aufzulisten. Es werden nur die `hat_als` Beziehungen ausgegeben. Der Default ist keine Ausgabe von Beziehungen. 
    `id` | String || Möglichkeit, die Ergebnisliste der Anfrage nach der „id” einer Organisation zu filtern. Der Schulconnex-Server überprüft, ob der Wert des Filterparameters ohne Beachtung von Groß- und Kleinschreibung im Filter-Attribut beinhaltet ist (contains).
    `kennung` | String (Code) || Möglichkeit, die Ergebnisliste der Anfrage nach „kennung” zu filtern. Der Schulconnex-Server überprüft, ob der Wert des Filterparameters ohne Beachtung von Groß- und Kleinschreibung im Filter-Attribut beinhaltet ist (contains).
    `name` | String || Möglichkeit, die Ergebnisliste der Anfrage nach dem Attribut „organisation.name” zu filtern. Der Schulconnex-Server überprüft, ob der Wert des Filterparameters ohne Beachtung von Groß- und Kleinschreibung im Filter-Attribut beinhaltet ist (contains).
    `typ` | String (Code) || Möglichkeit, die Ergebnisliste der Anfrage nach dem Attribut „organisation.typ” zu filtern. Der Schulconnex-Server überprüft, ob der Wert des Filterparameters mit dem Wert des Filter-Attributs übereinstimmt (equals). Dem Filterparameter liegt die Codeliste [Organisationstyp](../../../codelisten#organisationstyp) zugrunde.

    Die Möglichkeit, die Organisationsbeziehungen über die Filter `hat_als_organisationsbeziehungen` oder `ist_von_organisationsbeziehungen` ausgeben zu lassen, ist deprechiated und wird nicht weiter unterstützt.    
  parameters:
    - in: query
      name: vollstaendig
      style: form
      explode: false
      allowReserved: true
      schema:
        type: array
        items:
          type: string
          enum:
            - beziehungen
    - in: query
      name: id
      schema:
        type: string
    - in: query
      name: kennung
      schema:
        type: string
    - in: query
      name: name
      schema:
        type: string
    - in: query
      name: typ
      schema:
        type: string
  responses:
    '200':
      description: OK
      content:
        application/json:
          schema:
            $ref: './components-dienste-Organisationen-Info.yaml'
    '400':
      description: |
        Bad Request

        Siehe [Fehlerbehandlung](../../../schnittstellendefinition/http-statuscodes-qs)
    '401':
      description: |
        Unauthorized

        Siehe [Fehlerbehandlung](../../../schnittstellendefinition/http-statuscodes-qs)
    '403':
      description: |
        Forbidden

        Siehe [Fehlerbehandlung](../../../schnittstellendefinition/http-statuscodes-qs)
    '404':
      description: |
        Not found

        Siehe [Fehlerbehandlung](../../../schnittstellendefinition/http-statuscodes-qs)
    '405':
      description: |
        Method not allowed

        Siehe [Fehlerbehandlung](../../../schnittstellendefinition/http-statuscodes-qs)

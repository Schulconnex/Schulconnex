---
id: create-personenkontext-id-beziehung
title: "Erstellen einer Beziehung"
description: "Die Schnittstelle `/personenkontexte/{personenkontext.id}/beziehungen` erlaubt"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/generated/openapi/quellsysteme/schulconnex
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Erstellen einer Beziehung"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/personenkontexte/{id}/beziehungen"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Die Schnittstelle `/personenkontexte/{personenkontext.id}/beziehungen` erlaubt
das Erstellen von zu einem Personenkontext gehörenden Beziehungen.

Beziehungen sind immer von der Form „hat_als“. Besteht zum Beispiel aus einem
Personenkontext von Person A eine Beziehung vom Typ `SchB` zu einem Personenkontext
(`ktid`) von Person B, so bedeutet dieses, dass Person A die Person B als Schulbegleiter
oder Schulbegleiterin hat.

Im schulischen Gebrauch bedeutet das meistens, dass Beziehungen den Kontexten von Schülern
und Schülerinnen zugeordnet sind. Schüler und Schülerinnen haben Betreuer oder Betreuerinnen,
Tutoren oder Tutorinnen oder Erziehungsberechtigte. Der Personenkontext von beispielsweise
Erziehungsberechtigten enthält keine Beziehungs-Relation.

Dieser Schnittstellenendpunkt erstellt eine Beziehung aus einem Personenkontext per ID `personenkontext.id`.

Ein CREATE zum Erstellen von Beziehungen aus einem Personenkontext muss mit HTTP-POST auf die API `/personenkontext/{personenkontext.id}/beziehungen`
erfolgen. Die Anfrage-Nutzdaten
(Request Payload) beinhalten ein JSON-Objekt des Datentyps Beziehungen.

Siehe auch Datenmodell [Beziehung](../../../datenmodell-qs/beziehung).

Bestehen zwischen zwei Personenkontexten mehrere Beziehungen (ist beispielsweise eine
Person sowohl erziehungsberechtigt als auch betreuend für eine andere Person), so ist
für jede Einzelbeziehung ein eigenes Beziehungsobjekt zu erstellen.

Die folgende Tabelle listet die Attribute einer Beziehung auf, welche von einem
Quellsystem oder Dienst nicht verändert werden können.

Attribut | In den Anfrage-Nutzdaten erforderlich? | Bemerkung
--- | --- | ---
`id` | nein | ID der Beziehung. Wird vom Schulconnex-Server vergeben und ist eindeutig. Dieses Attribut ist unveränderbar (immutable).
`revision` | nein | Revision der Beziehung. Wird vom Schulconnex-Server mit der Erstellung des Datensatzes sowie Aktualisierung generiert. Dieser Wert kann nicht von Quellsystemen oder Diensten gesetzt werden.

Bei einer erfolgreichen Anforderung zum Erstellen einer Beziehung zu einem Personenkontext
wird diese Anforderung mit einer Repräsentation der Beziehung in den Antwort-Nutzdaten
und dem HTTP-Statuscode 201 quittiert.


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"path","name":"id","schema":{"type":"string","example":"4d0f579c-0b9a-4d3a-b484-87b3bee8a2ad"},"required":true,"description":"Der Pfad-Parameter bezieht sich auf die ID des eigenen Personenkontexts."}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["ktid","beziehung"],"properties":{"ktid":{"description":"ID des Personenkontexts, zu dem eine Beziehung besteht.","type":"string","example":"553f984f-5fea-48c8-ae26-089420465803"},"beziehung":{"type":"string","enum":["SchB","SorgBer"],"description":"Beziehungen ist eine Liste von Beziehungen, welche zwischen zwei Personen innerhalb von Personenkontexten bestehen können:\n  * SorgBer Sorgeberechtigter oder Sorgeberechtigte\n  * SchB Schulbegleiter oder Schulbegleiterin\n","title":"components-code-Beziehungen"}},"title":"components-qs-Beziehung-POST-request"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"201":{"description":"OK","content":{"application/json":{"schema":{"type":"object","required":["id","mandant","ktid","beziehung","revision"],"properties":{"id":{"description":"ID der Beziehung.","type":"string","example":"4de182f3-4a8b-468b-9050-76dd1cae95f3"},"mandant":{"description":"ID des Mandanten.","type":"string","example":"6325b810-6b27-423d-a16b-f4b4cfa9f073","readOnly":true},"ktid":{"description":"ID des Personenkontexts, zu dem eine Beziehung besteht.","type":"string","example":"553f984f-5fea-48c8-ae26-089420465803"},"beziehung":{"type":"string","enum":["SchB","SorgBer"],"description":"Beziehungen ist eine Liste von Beziehungen, welche zwischen zwei Personen innerhalb von Personenkontexten bestehen können:\n  * SorgBer Sorgeberechtigter oder Sorgeberechtigte\n  * SchB Schulbegleiter oder Schulbegleiterin\n","title":"components-code-Beziehungen"},"revision":{"description":"Revision der Beziehung.","type":"string","example":"2"}},"title":"components-qs-Beziehung-basis"}}}},"400":{"description":"Bad Request\n\nSubcode 18: „Beziehung kann nicht erstellt werden.“ Dieser Fehler wird gemeldet,\nwenn die zu erstellende Beziehung nicht unterstützt werden kann, beispielsweise,\nda Minderjährige nicht sorgeberechtigt sein können.\n\nSiehe [Fehlerbehandlung](../../../schnittstellendefinition/http-statuscodes)\n"},"401":{"description":"Unauthorized\n\nSiehe [Fehlerbehandlung](../../../schnittstellendefinition/http-statuscodes)\n"},"403":{"description":"Forbidden\n\nSiehe [Fehlerbehandlung](../../../schnittstellendefinition/http-statuscodes)\n"},"404":{"description":"Not found\n\nSiehe [Fehlerbehandlung](../../../schnittstellendefinition/http-statuscodes)\n"},"405":{"description":"Method not allowed\n\nSiehe [Fehlerbehandlung](../../../schnittstellendefinition/http-statuscodes)\n"},"409":{"description":"Conflict\n\nSiehe [Fehlerbehandlung](../../../schnittstellendefinition/http-statuscodes)\n"}}}
>
  
</StatusCodes>


      